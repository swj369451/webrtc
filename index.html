<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="./images/favicon.ico" />
    <title>Document</title>
</head>

<body>
    <div id="app">
        <span>版本: v0.0.2</span>
        <span id="identification">用户昵称：</span>
        <span id="info" style="color: darkcyan;"></span>
        <span id="errorNote" style="color: red;"></span>
        <div style="display: flex;">
            <video id="local-camera" style=" height:25vh;background-color: azure;;" autoplay playsinline muted></video>
            <video id="local-screen" style=" height:25vh; background-color: azure;" autoplay playsinline muted></video>
            <video id="screen-video1" style=" height:25vh; background-color: azure;" autoplay playsinline muted></video>
            <div>
                <input id="input"><br />
                通信类型：<input type="radio" name="connectType" value="UserMedia" checked="checked">视频
                <input type="radio" name="connectType" value="DisplayMedia">桌面<br />
                是否共享媒体：<input type="radio" name="share" value="1" checked="checked">是
                <input type="radio" name="share" value="0">否
                <button id="connect">连接</button>
            </div>

            <button id="check">获取已连接</button>

            <button id="record">开启录制</button>
            <button id="screensharingBtn">开启屏幕共享</button>
            <button id="videoBtn">关闭画面</button>
            <button id="audioBtn">关闭声音</button>
            <button id="iceBtn">显示ice信息</button>
            <div id="container" style="font-size: 40px; display: none;">
                <section id="iceServers" style="display: none;">

                    <h2>ICE servers</h2>

                    <select id="servers" size="4">
                    </select>

                    <div>
                        <label for="url">STUN or TURN URI:</label>
                        <input id="url">
                    </div>

                    <div>
                        <label for="username">TURN username:</label>
                        <input id="username">
                    </div>

                    <div>
                        <label for="password">TURN password:</label>
                        <input id="password">
                    </div>

                    <div>
                        <button id="add">Add Server</button>
                        <button id="remove">Remove Server</button>
                        <button id="reset">Reset to defaults</button>
                    </div>

                </section>

                <section id="iceOptions" style="display: none;">

                    <h2>ICE options</h2>

                    <div id="iceTransports">
                        <label for="transports"><span>IceTransports value:</span></label>
                        <input type="radio" name="transports" value="all" id="all" checked>
                        <span>all</span>
                        <input type="radio" name="transports" value="relay" id="relay">
                        <span>relay</span>
                    </div>
                    <div>
                        <label>ICE Candidate Pool:</label>
                        <span id="poolValue">0</span>
                        <span class="gray">0</span>
                        <input id="iceCandidatePool" type="range" min="0" max="10" value="0">
                        <span class="gray">10</span>
                    </div>

                </section>

                <section style="display: none;">
                    <div>
                        <input type="checkbox" name="getUserMedia" id="getUserMedia">
                        <label for="getUserMedia"><span>Acquire microphone/camera permissions</span></label>
                    </div>

                </section>

                <section style="font-size: 40px;">
                    <table id="candidates" border="1">
                        <thead id="candidatesHead">
                            <tr>
                                <th>Time</th>
                                <th>Component</th>
                                <th>Type</th>
                                <th>Foundation</th>
                                <th>Protocol</th>
                                <th>Address</th>
                                <th>Port</th>
                                <th>Priority</th>
                                <th>Mid</th>
                                <th>MLine Index</th>
                                <th>Username Fragment</th>
                            </tr>
                        </thead>
                        <tbody id="candidatesBody"></tbody>
                    </table>
                    <button id="gather">Gather candidates</button>
                    <button id="re">re</button>
                    <div id="error-note">Note: errors from onicecandidateerror above are not neccessarily fatal. For
                        example an IPv6 DNS lookup may fail but relay candidates can still be gathered via IPv4.</div>
                    <div id="error"></div>
                </section>


                <!-- <a href="https://github.com/webrtc/samples/tree/gh-pages/src/content/peerconnection/trickle-ice"
                   title="View source for this page on GitHub" id="viewSource">View source on GitHub</a> -->
            </div>
        </div>
        <video id="peep" autoplay muted></video>
    </div>
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="./js/main.js" type="module"></script>
    <script src="./js/plugin/adapter.js"></script>
    <script src="./js/plugin/socket.io.js"></script>
    <script src="./js/report/iceCheck.js" type="module"></script>
</body>

</html>